```markdown
# MVP 要件定義

このドキュメントは、Next.js + TypeScript + Supabase を用いた「1ヶ月クエスト型成長ToDoアプリ」のMVP要件定義です。

---

## 1. 概要

- **期間**：30日（1ヶ月）を「クエスト」に見立て、毎日のタスク達成で進捗を可視化
- **目的**：Supabase の認証＋データベースをバックエンドに使い、サーバーレスかつ最小構成で素早くリリース

---

## 2. ユーザーストーリー

1. **匿名ユーザー**
   - メールアドレス／パスワードでサインアップ／ログインしたい（Supabase Auth）
   - 毎朝「今日のタスク」を確認し、完了済みタスクをチェックできる
   - 30日分の進捗（％／カレンダー）をいつでも見返したい

2. **クエスト開始ユーザー**
   - 自分専用の「30日クエスト」を自動生成してほしい
   - タスクは日付ごとに紐づき、過去日付の編集は可能だが未来日は未設定状態

---

## 3. 機能要件

| ID  | 機能             | 詳細                                                         |
|:---:|:----------------|:-------------------------------------------------------------|
| F1  | 認証             | Supabase Auth：メール／パスワードで登録・ログイン           |
| F2  | タスクCRUD       | 30日分のタスクタイトル登録・編集・削除                     |
| F3  | 日次チェックイン | 当日のタスクを「完了／未完了」切替                         |
| F4  | 進捗表示         | ・トップ画面にプログレスバー（％）
|     |                 | ・カレンダービューで日毎に色分け                           |
| F5  | API Routes      | `/api/tasks` で Supabase と通信（認証チェック含む）          |
| F6  | レスポンシブ     | スマホ縦画面最優先、PCはレイアウト拡張                      |

---

## 4. 非機能要件

- **パフォーマンス**：初回ロード1.5秒以内を目標（推測を含む）
- **セキュリティ**：RLS（Row Level Security）でユーザー毎にデータ分離
- **可用性**：Vercel ＋ Supabase の無料プランで運用可能（小規模トラフィック前提）
- **アクセシビリティ**：キーボード操作／スクリーンリーダーに標準対応

---

## 5. 技術要件

| 分類      | 項目               | 選定理由                                         |
|:---------|:------------------|:-------------------------------------------------|
| ランタイム| Next.js 15        | ファイルベースルーティング＆API Routesが強力    |
| 言語      | TypeScript        | 型安全で開発速度向上                             |
| DB        | Supabase (Postgres)| SQLベースで将来的な分析も容易                   |
| 認証      | Supabase Auth     | GUIで管理しやすく、Social OAuthも対応(確度低)    |
| UI        | Tailwind CSS      | ユーティリティファーストで高速開発               |
| 状態管理  | SWR               | データフェッチ＋キャッシュが簡易                 |
| CI/CD     | Vercel + GH Actions| 自動デプロイ＆Lint／テスト                      |
| テスト    | Vitest + RTL      | Reactコンポーネント＆API Routeのテスト           |

---

## 6. 進捗イテレーション

1. **Week 1**：認証＋タスクCRUD＋簡易UI
2. **Week 2**：日次チェックイン＋進捗表示＋レスポンシブ調整
3. **Week 3**：RLS設定＋Vercelデプロイ＋テスト整備
4. **Week 4**：社内β／フィードバック反映

まずは上記 F1～F4 を完成させ、早めに動くプロトタイプを触って感触を得ましょう！

```
